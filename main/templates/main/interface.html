{% extends 'main/base.html' %}

{% block content %}

    {% load static %}

    <link rel="stylesheet" type="text/css" href="{% static 'main/interface.css' %}">

    <div layout="row" style="width: 100%">
        <div layout="column" style="width: 66%">
        </div>
        <div layout="column" id="right-panel">
            {% for topic in topics %}
                <md-button class="topic md-raised" ng-click="open_topics['{{ topic }}'] = !open_topics['{{ topic }}']">
                    {{ topic.name }}
                </md-button>
                <div>
                    {% for trait in topic.trait_set.all %}
                        <div>
                            <md-card ng-show="open_topics['{{ topic }}']">
                                <md-card-title>{{ trait.title }}</md-card-title>
                                <md-card-content>
                                    {{ trait.description }}
                                    <br/>
                                    {{ trait.price }}
                                    {% if trait.sale_price %}
                                        now for {{ trait.sale_price }}
                                    {% endif %}
                                </md-card-content>
                                {% if trait.sale %}
                                    <md-card-footer>
                                        {{ trait.sale }} {{ trait.company }}
                                    </md-card-footer>
                                {% endif %}
                            </md-card>
                        </div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>
    </div>

{% endblock %}